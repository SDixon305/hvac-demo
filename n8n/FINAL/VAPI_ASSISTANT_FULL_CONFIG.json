{
    "name": "High Time HVAC Demo Agent",
    "model": {
        "provider": "openai",
        "model": "gpt-4",
        "temperature": 0.7,
        "systemPrompt": "You are a professional receptionist for High Time Air Conditioning and Heating, an HVAC company serving customers in South Florida. Your job is to help customers who call in, especially during after-hours emergencies.\n\nIMPORTANT CONTEXT:\n- Business Name: High Time Air Conditioning and Heating\n- You have access to customer records via the lookup_customer tool\n- You can check technician availability in real-time\n- You can book appointments for routine service\n\nEMERGENCY DETECTION:\nIf the customer mentions ANY of these, treat it as an emergency:\n- Heat wave, extreme heat, or temperatures over 95Â°F\n- Elderly person, senior citizen, or anyone over 80 years old\n- Health risk, medical condition, or safety concern\n- No AC/heating in extreme weather conditions\n- Words like \"emergency\", \"urgent\", \"critical\"\n- Young children or infants in uncomfortable conditions\n\nCALL FLOW:\n1. Greet: \"High Time Air Conditioning and Heating, how may I help you?\"\n2. Listen carefully to their issue\n3. Ask: \"Are you a current customer of ours?\"\n4. If YES: Ask for their \"first and last name please\"\n5. Use the lookup_customer tool to get their information\n6. Confirm their address from the records\n7. If EMERGENCY detected: Use check_technician_availability tool immediately\n8. If tech available: Inform customer of dispatch and ETA\n9. If NOT emergency: Use book_appointment tool for scheduling\n10. Always ask for the best phone number for text confirmation\n11. Repeat the number back to confirm accuracy\n12. Provide a summary of what will happen next\n\nTONE: Professional, calm, reassuring, and friendly. If it's an emergency, show appropriate urgency but remain composed and confident. Make customers feel they're in good hands.\n\nREMEMBER: You speak FIRST when answering the phone. Don't wait for the customer to say hello."
    },
    "voice": {
        "provider": "11labs",
        "voiceId": "21m00Tcm4TlvDq8ikWAM",
        "stability": 0.5,
        "similarityBoost": 0.75
    },
    "firstMessage": "High Time Air Conditioning and Heating, how may I help you?",
    "endCallMessage": "Thank you for calling High Time Air Conditioning and Heating. Have a great day!",
    "recordingEnabled": true,
    "endCallFunctionEnabled": false,
    "dialKeypadFunctionEnabled": false,
    "fillersEnabled": true,
    "clientMessages": [
        "transcript",
        "hang",
        "function-call",
        "speech-update",
        "metadata",
        "conversation-update"
    ],
    "serverMessages": [
        "end-of-call-report",
        "status-update",
        "hang",
        "function-call"
    ],
    "tools": [
        {
            "type": "function",
            "function": {
                "name": "lookup_customer",
                "description": "Look up a customer by their name in the database. Always use this when a customer says they are an existing customer.",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "first_name": {
                            "type": "string",
                            "description": "Customer's first name"
                        },
                        "last_name": {
                            "type": "string",
                            "description": "Customer's last name"
                        }
                    },
                    "required": [
                        "first_name",
                        "last_name"
                    ]
                }
            },
            "async": false,
            "messages": [
                {
                    "type": "request-start",
                    "content": "Let me look that up for you..."
                },
                {
                    "type": "request-complete",
                    "content": "Found your information."
                }
            ],
            "server": {
                "url": "https://hvac-demo-seth.loca.lt/webhook/vapi-call-status"
            }
        },
        {
            "type": "function",
            "function": {
                "name": "check_technician_availability",
                "description": "Check if a technician is available for emergency dispatch. Use this ONLY when you detect an emergency situation.",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "emergency_type": {
                            "type": "string",
                            "description": "Type of emergency (e.g., 'AC failure - heat wave', 'Heating failure - elderly resident')"
                        },
                        "customer_address": {
                            "type": "string",
                            "description": "Customer's address"
                        }
                    },
                    "required": [
                        "emergency_type",
                        "customer_address"
                    ]
                }
            },
            "async": true,
            "messages": [
                {
                    "type": "request-start",
                    "content": "Let me check our technician availability right now..."
                },
                {
                    "type": "request-complete",
                    "content": "I've confirmed availability."
                }
            ],
            "server": {
                "url": "https://hvac-demo-seth.loca.lt/webhook/vapi-call-status"
            }
        },
        {
            "type": "function",
            "function": {
                "name": "book_appointment",
                "description": "Book a non-emergency service appointment. Use this for routine maintenance, inspections, or non-urgent repairs.",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "customer_name": {
                            "type": "string",
                            "description": "Customer's full name"
                        },
                        "service_type": {
                            "type": "string",
                            "description": "Type of service needed"
                        },
                        "preferred_date": {
                            "type": "string",
                            "description": "Customer's preferred date (e.g., 'Tuesday morning', 'Next week')"
                        },
                        "phone_number": {
                            "type": "string",
                            "description": "Phone number for confirmation"
                        }
                    },
                    "required": [
                        "customer_name",
                        "service_type",
                        "phone_number"
                    ]
                }
            },
            "async": false,
            "messages": [
                {
                    "type": "request-start",
                    "content": "Let me get that scheduled for you..."
                },
                {
                    "type": "request-complete",
                    "content": "Your appointment has been booked."
                }
            ],
            "server": {
                "url": "https://hvac-demo-seth.loca.lt/webhook/vapi-call-status"
            }
        }
    ]
}
